<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.housekeeping.dao.StaffMapper">
    <select id="staffcha" resultType="com.project.housekeeping.pojo.Staff">
        SELECT * FROM `staff` WHERE 1 = 1
        <if test="name!=null and name!=''">
            AND `name` LIKE CONCAT('%',#{name},'%')
        </if>
        <if test="sex!=0">
            AND `sex` = #{set}
        </if>
        <if test="degree!=null and degree!=''">
            AND `degree` = #{degree}
        </if>
        <if test="marital!=null and marital!=''">
            AND `marital` = #{marital}
        </if>
        <if test="health!=null and health!=''">
            AND `health` = #{health}
        </if>
        <if test="ante_age!=0 and under_age!=0" >
            AND `age` BETWEEN #{ante_age} AND #{under_age}
        </if>
        LIMIT #{pageNo},#{pageSize}
    </select>

    <select id="count" resultType="com.project.housekeeping.pojo.Staff">
        SELECT COUNT(*) FROM `staff` WHERE 1 = 1
        <if test="name!=null and name!=''">
            AND `name` LIKE CONCAT('%',#{name},'%')
        </if>
        <if test="sex!=0">
            AND `sex` = #{set}
        </if>
        <if test="degree!=null and degree!=''">
            AND `degree` = #{degree}
        </if>
        <if test="marital!=null and marital!=''">
            AND `marital` = #{marital}
        </if>
        <if test="health!=null and health!=''">
            AND `health` = #{health}
        </if>
        <if test="ante_age!=0 and under_age!=0" >
            AND `age` BETWEEN #{ante_age} AND #{under_age}
        </if>
    </select>
</mapper>